function s(e,d){if("kd"==e&&1==keys[d])return;keys[d]=!0,"ku"==e&&(keys[d]=!1);const n={m:e,k:d};dws.send(msgpack.encode(n))}window.addEventListener("keydown",function(e){if(null!=dws){if(e.defaultPrevented)return;let d=!1;void 0!==e.key?(d=!0,s("kd",e.key)):void 0!==e.keyCode&&(d=!0,s("kd",e.keyCode)),d&&e.preventDefault()}},!0),window.addEventListener("keyup",function(e){if(null!=dws){if(e.defaultPrevented)return;let d=!1;void 0!==e.key?(d=!0,s("ku",e.key)):void 0!==e.keyCode&&(d=!0,s("ku",e.keyCode)),d&&e.preventDefault()}},!0);